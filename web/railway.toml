# Railway configuration for the Next.js frontend

[build]
builder = "NIXPACKS"
buildCommand = "pnpm install && pnpm build"

[build.nixpacks]
NODE_VERSION = "20"

[deploy]
startCommand = "cp -r public .next/standalone/ && cp -r .next/static .next/standalone/.next/ && HOSTNAME=0.0.0.0 node .next/standalone/server.js"
healthcheckPath = "/"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
